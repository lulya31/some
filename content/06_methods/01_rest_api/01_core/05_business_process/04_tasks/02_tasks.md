---
title: "Задачи (tasks)"
description: "Методы по работе с задачами в рамках выполнения сотрудниками бизнес-процесса"
version: 1
additional:
    team: "TasksAndEvent"
    service : "PLT TaskAndEvent"
    author: "Илья Смирнов"
    maintainer: "Александр Хван"
    developer: "Кирилл Драгун"
    status: "in_work"
    subscribers: ["TasksAndEvent"]
draft: false
slug: ""
weight: 4
---


Сущность [Задача](https://doc-notifs-main.com-dev.int.rolfcorp.ru/02_info_model/06_task/) уникальная зависимая сущность, имеющая свой ID, которая может быть сформирована в составе таск листа по его сценарию или вне воронки продаж.

## Основные свойства

**ТИП**-ы задачи: 

* Данные о клиенте
* Подбор доп. оборудования
* Коммерческое предложение
* Оформление документов по сделке (ПДКП + предоплата)
* Оформление документов по сделке (ДКП, ДС)
* Оплаты
* Акт приема передачи
* Передача материальных ценностей клиенту
* Определение доп. услуг/товаров.
* Согласование маржинальности с РОПом
* Расчет времени установки опционов и планирование выдачи
* Подписать документ
* Оформление страховых продуктов (из FI)
* Оформление страховых продуктов (из АСП)
* Загрузить документ
* Предварительный расчет
* Оформление кредитных продуктов
* Наполнение работ и з/ч
* Закрытие з/н
* Подготовка к выдаче а/м
* Проверка записи
* Ремонт ТС
* Задача на коммуникацию
* Сервисные услуги
* Подписать ПДКП
* Загрузить ПДКП
* Подписать ДКП
* Загрузить ДКП
* Предварительная оплата
* Полная оплата
* Оценка гарантийного случая
* Задача на СПРК
* WMS
* Контроль работ кузовного цеха
* Контроль работ мультисервисного цеха
* Контроль работ слесарного цеха
* Контроль работ цеха опцион

**КЛАСС**-ы задачи: 

* Простая производственная задача
* Подпроцесс - цепь из простых производственных задач
* Назначить исполнителя
* Продать
* Приблизить к продаже
* Сформировать часть предложения
* Сформировать полное предложение
* Обсудить с клиентом
* Осуществить юридически значимое событие
* Подписать /зафиксировать юридически значимый документ
* Дозаполнить недостающие данные клиента
* Проверить / выяснить контактные данные Компании / юр. Лица

**КОНТЕКСТ**-ы задачи:

* Клиент (заполнено только client_persons_or_org_s_uuid)
* Потребность (заполнено context_as_needs_and_orders_b_uuid и клиент)
* ТС для сервиса (заполнено context_as_vehicle_b4service_uuid и клиент)
* Юридически значимое событие (заполнено context_as_legal_event_b_uuid и клиент)
* Юридически значимый документ (заполнено context_as_legal_document_b_uuid и клиент)
* Задача для назначения исполнителя (заполнено context_as_business_process_task_b4employee_assign_uuid и клиент)
* Коммуникация (заполнено context_as_communication_b_uuid и клиент)
* Корзина потребительского выбора (заполнено context_as_shopping_cart_b_uuid и клиент)

**СТАТУС**-ы задачи: 

* Сделать (**`to_do`**)
* В работе (**`in_progress`**)
* Выполнена (**`completed`**)
* Отменена ( **`cancelled`** )

## Информационная модель

```json
{
    "uuid": "1c067734-c019-46d6-a779-a8adcae417fe", // уникальный идентификатор в БД
    "ui_id": "123456", // Короткий идентификатор для UI
    "status": "in_progress", // Статус задачи (технический)
    "status_ui": "В работе", // Статус задачи (для UI)
    "task_type": { // Определяет тип 
        "uuid": "f8d697e9-a34e-4084-8e42-e60dde4c0a5d",
        "name": "Предварительный расчет",
        "description": "Выполнить предварительный расчет по финансовым продуктам.",
        "task_class_uuid": "eec584bf-96d8-43e8-9c7e-4dcd44c5211a",
        "parent_task_type_uuid": null,
        "sequence_number": null,
        "business_tasks_subset_d_uuid": "d98ddaab-3c4e-4218-bfcf-ff697a063c9b",
        "business_process_task_context_ref_type_d_uuid": "3bcee5aa-fc20-40d7-b75d-ac1e2add1c22"
    },
    "dealership": { // Ссылка на ДЦ
        "uuid": "36637ca3-20e0-4f37-9705-8d50dab0aee0"
    },
    "task_class": { // Определяет класс (наследуется из типа)
        "uuid": "eec584bf-96d8-43e8-9c7e-4dcd44c5211a",
        "name": "Простая производственная задача",
        "description": "Производственная задача (Атомарная). Исполнитель: Из группирующей задачи; Триггерящее/создающее техническое событие: Создани группирующей задачи; Как фиксируется выполнение/отмена: Исполнитель задачи жмёт кнопку либо выполнил / либо отмена; Триггер завершения технического события: Явная команда пользователя-исполнителя.",
        "is_parent": false,
        "parent_task_class_uuid": "bc301ab5-14fe-42d2-b069-2e66260d52cf"
    },
    "task_executor": { // Ссылка на исполнителя задачи
        "uuid": "3dad60ce-8a42-406d-8b0e-c49561256997"
    },
    "date_when_created": "2023-01-22", // Дата создания задачи
    "date_when_completed": null, // Дата закрытия задачи
    "planned_start_date": "2023-01-30", // Дата планового начала работ по задаче
    "planned_complete_date": "2023-01-31", // Дата планового закрытия задачи
    "parent_task_uuid": "8106a924-fa3a-4262-b502-2428033115a5", // Ссылка на родительскую задачу
    "sequence_number": 1, // Порядковый номер задачи (наследуется из типа)
    "client": {
        "uuid":"f08e9ee5-dfc0-4b04-97ed-582a852757f7" // Ссылка на клиента
    },
    "context_as_need_uuid": "3af3d976-01bf-44ea-9f1a-30fc8c0a057d", // Контекст ссылка на потребность
    "context_as_vehicle_uuid": null, // Контекст ссылка на автомобиль 
    "context_as_legal_event_uuid": null, // Контекст ссылка на юридически значимое событие
    "context_as_legal_document_uuid": null, // Контекст ссылка на юридически значимый документ
    "context_as_task_uuid": null, // Контекст ссылка на другую задачу
    "context_as_communication_uuid": null, // Контекст ссылка на коммуникацию
    "integration_data_as_json": null, // JSON-объект, данные для интеграции с третьими системами
    "context_as_shopping_cart_uuid": null, // Контекст ссылка на корзину
    "task_context_ref_type_uuid": "3bcee5aa-fc20-40d7-b75d-ac1e2add1c22", // Тип контекста в задачах бизнес-процесса (наследуется из типа)
    "task_initiator": { // Ссылка на создателя задачи
        "uuid": "3dad60ce-8a42-406d-8b0e-c49561256997"
    },  
    "is_cancelled": false, // Статус отмены
    "task_list_carrier": { // Ссылка на таск-лист (потребность / orders) задачи
        "uuid": "c2ab6f8e-ed12-4a43-b9cd-307a95b68ad4"
    }
}
```

## Методы

{{% openapi source="/02_01_01_04_03_json/tasks.json" %}}

### Примеры использования



### Требуется для разработки

| #   | Метод | Endpoint | Description | Priority | Comments |
| --- | ----- | -------- | ----------- | -------- | -------- |
|     |       |          |             |          |          |
|     |       |          |             |          |          |
|     |       |          |             |          |          |


### Доработки

| #   | Текущий | Новый | Задача | Comments |
| --- | ------- | ----- | ------ | -------- |
|     |         |       |        |          |
|     |         |       |        |          |
|     |         |       |        |          |


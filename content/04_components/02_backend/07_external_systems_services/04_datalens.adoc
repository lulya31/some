---
title: "Yandex DataLens - сервис для бизнес-аналитики"
description: "Yandex DataLens - сервис для бизнес-аналитики"
weight: 4
draft: false
Categories:
    - Architecture
    - Backend
Tags:
    - External system services
    - Datalens
---

:imgdir: /04_02_07_04_img/
:imagesoutdir: ./static/04_02_07_04_img/

include::static/includes/init.adoc[]



= Yandex DataLens - сервис для бизнес-аналитики

{empty} +

== Yandex DataLens

****
*Yandex DataLens* — это сервис для бизнес-аналитики. Сервис позволяет подключаться к различным источникам данных, строить визуализации, собирать дашборды и делиться полученными результатами.

{empty} +

С помощью *Yandex DataLens* вы можете отслеживать продуктовые и бизнес-метрики напрямую из источников, чтобы принимать решения, основанные на данных.
****

== Обзор сервиса DataLens

****
*Yandex DataLens* — это сервис для link:https://cloud.yandex.ru/docs/glossary/business-analytics[*бизнес-аналитики*, window=_blank]. Сервис позволяет подключаться к различным источникам данных, строить визуализации, собирать дашборды и делиться полученными результатами. С помощью *Yandex DataLens* вы можете отслеживать продуктовые и бизнес-метрики напрямую из источников, чтобы принимать решения, основанные на данных.
****

====
> Количество экземпляров *DataLens* в одном link:https://cloud.yandex.ru/docs/resource-manager/concepts/resources-hierarchy#cloud[*облаке Yandex Cloud*, window=_blank] — *1*.
====

=== Взаимосвязь сущностей

****
*DataLens* состоит из нескольких сущностей, которые обеспечивают полный цикл работы с данными.
****

****
.Взаимосвязь сущностей
[[network_entites_anchor]]
[%collapsible%open]
====
image::network_entites.svg[title="Взаимосвязь сущностей", align=center, interactive, opts=interactive]
====
****

****
*DataLens* состоит из следующих сущностей:
====
* *Подключение* — набор параметров для доступа к источнику данных.
* *Датасет* — описание набора данных из источника.
* *Чарт* — визуализация данных из источника данных, датасета в виде таблиц, диаграмм и карт.
* *Дашборд* — набор чартов, селекторов для фильтрации данных и текстовых блоков.
====
Вы можете создавать объекты сущностей самостоятельно, а также использовать готовые решения из link:https://cloud.yandex.ru/docs/datalens/concepts/marketplace[*DataLens Marketplace*, window=_blank].
****

== Квоты и лимиты

****
В *Yandex Cloud* для сервисов действуют следующие виды ограничений:
====
* *_Квоты_* — организационные ограничения, которые можно изменить по запросу в техническую поддержку
* *_Лимиты_* — технические ограничения, обусловленные особенностями архитектуры *Yandex Cloud*. Изменение лимитов невозможно
====
****

=== Квоты

****
Квоты для сервиса *DataLens* не определены.
****

=== Общие лимиты

====
> В *DataLens* нет ограничения на объем данных в источнике, к которому выполняется подключение.
====

[%header, cols=".^80,^.^20", width="50%"]
|===
^.^| Вид ограничения ^.^| Значение

| Количество экземпляров *DataLens* в одной организации или облаке | *1*
| Максимальный размер *CSV*-файла | *200 МБ*
| Максимальное количество таблиц в одном датасете | *32*
| Максимальное количество полей в одном датасете | *1200*
|===

=== Лимиты данных в чартах

****
Чарты в *DataLens* могут отображать лишь ограниченное количество данных. Если количество строк (столбцов и ячеек для сводных таблиц) в датасете превышает установленный лимит, чарт не будет построен. Поэтому чтобы построить чарт по данным из объемного датасета, с помощью link:https://cloud.yandex.ru/docs/datalens/concepts/dataset/settings#default-setting[*фильтров*, window=_blank] выберите для отображения часть данных в соответствии с лимитами:
****

[%header, cols=".^70,.^30", width="50%"]
|===
^.^| Тип чарта	^.^| Ограничение

2+| *Диаграммы*
| Линейная диаграмма | 75 000 строк
| Накопительная диаграмма с областями .2+| 75 000 строк
| Нормированная диаграмма с областями
| Столбчатая диаграмма .2+| 75 000 строк
| Нормированная столбчатая диаграмма
| Линейчатая диаграмма .2+| 75 000 строк
| Нормированная линейчатая диаграмма
| Точечная диаграмма | 75 000 строк
| Круговая диаграмма | 1000 строк
| Древовидная диаграмма | 1000 строк
2+| *Таблицы*
| Таблица | 100 000 строк
| Сводная таблица | 100 000 ячеек
| Сводная таблица | 800 столбцов
2+| *Геокарты*
| Точечная карта | 40 000 строк
| Точечная карта с кластеризацией | 40 000 точек
| Фоновая карта | 40 000 строк
| Тепловая карта | 40 000 строк
| Полилинейная карта | 40 000 строк
|===

== Начало работы

****
Чтобы начать работать с *DataLens*:
====
. link:https://passport.yandex.ru/auth/list[*Войдите*, window=_blank] в ваш аккаунт на *Яндексе*. Если у вас еще нет аккаунта, link:https://yandex.ru/support/id/authorization/registration.html[*создайте*, window=_blank] его
. Откройте link:https://datalens.yandex.ru/[*главную страницу*, window=_blank] *DataLens*
. Нажмите *Открыть DataLens*
. Для новых пользователей - Нажмите *Войти*
. Для тех кто уже использует *Yandex Cloud* - Выберите один из вариантов:
.. Если у вас уже есть организация, выберите ее в выпадающем меню на вкладке *Организации* и нажмите *Открыть DataLens*.
+
*****
> Для активации экземпляра *DataLens* пользователю нужна роль `[.red]#admin#` или `[.red]#owner#`. Подробнее про роли см. в разделе link:https://cloud.yandex.ru/docs/organization/roles[Назначение прав доступа в *Cloud Organization*, window=_blank].
*****
+
.. Если у вас есть облако, но нет организации, нажмите *Добавить новый DataLens*. В открывшемся окне введите название и описание организации и нажмите *Создать организацию и DataLens*. Подробнее о работе с организациями см. в разделе link:https://cloud.yandex.ru/docs/organization/quick-start[*Начало работы с организациями*, window=_blank].
====
****

****
Если у вас возник технический вопрос по работе сервиса, обратитесь в link:https://console.cloud.yandex.ru/support[*службу поддержки*, window=_blank] *Yandex Cloud*. Чтобы спросить совета, обсудить решение вашей задачи или лучшие практики работы сервиса, напишите в чат link:https://t.me/YandexDataLens[*DataLens*, window=_blank] в *Telegram*.
****

=== Создание подключения

****
. Перейдите на link:https://datalens.yandex.ru/connections[*страницу подключений*, window=_blank]
. Нажмите кнопку *Создать подключение*
. Выберите подключение *ClickHouse*
.. В открывшемся окне укажите параметры подключения:
... Подключение — тип *Указать вручную*
... Имя хоста — `[.red]#rc1a-ckg8nrosr2lim5iz.mdb.yandexcloud.net#`
... Порт HTTP-интерфейса — `[.red]#8443#` (по умолчанию)
... Имя пользователя — `[.red]#samples_ro#`
... Пароль — `[.red]#&#42;&#42;&#42;&#42;&#42;&#42;&#42;&#42;#`
.. Активируйте опции *HTTPS* и *Разрешить подзапросы в датасетах и запросы из чартов*.
.. Проверьте подключение и нажмите кнопку *Создать подключение*
.. Введите название подключения — `[.red]#Sample ClickHouse#`
.. Нажмите кнопку *Создать*
****

****
.Создание подключения
[[create_sample_connection_sql_chart_anchor]]
[%collapsible%open]
====
image::create_sample_connection_sql_chart.png[title="Создание подключения", align=center]
====
****

****
> *Дождитесь сохранения подключения!*
****

=== Создание датасет

****
. В правом верхнем углу нажмите кнопку *Создать датасет*
. Перенесите на рабочую область таблицу *MS_SalesMiniTable*
****

****
.Перенос таблицы *MS_SalesMiniTable*
[[drag_table_anchor]]
[%collapsible%open]
====
image::drag_table.png[title="Перенос таблицы *MS_SalesMiniTable*", align=center]
====
****

****
[start=3]
. Перейдите на вкладку *Поля*
. В столбце *Агрегация* для поля *Sales* выберите *Сумма*
. Создайте показатель с количеством заказов
.. Переименуйте поле *OrderID* в *OrderCount*
.. Измените тип агрегации на *Количество уникальных*
. Для поля *ShopAddressCoord* измените тип данных на *Геоточка*
. Нажмите кнопку *Сохранить* в верхнем правом углу и сохраните датасет
. Введите имя датасета и нажмите *Создать*
****

****
.Создание датасета
[[create_dataset_anchor]]
[%collapsible%open]
====
image::create_dataset.png[title="Создание датасета", align=center]
====
****

=== Создайте чарт — столбчатая диаграмма

****
. В правом верхнем углу нажмите кнопку *Создать чарт*
. Выберите тип визуализации *Столбчатая диаграмма*
. Добавьте на чарт подкатегорию товаров. Для этого из раздела *Измерения* перетащите поле *ProductSubcategory* в секцию *X*
. Добавьте на чарт показатель продаж. Для этого из раздела *Показатели* перетащите поле *Sales* в секцию *Y*
. Отсортируйте чарт по убыванию по показателю продаж. Из раздела *Показатели* перетащите поле *Sales* в секцию *Сортировка*
. Сохраните чарт
.. В правом верхнем углу нажмите кнопку *Сохранить*
.. В открывшемся окне введите название чарта *Продажи по подкатегориям* и нажмите кнопку *Сохранить*
****

****
.Продажи по категориям
[[create_column_chart_anchor]]
[%collapsible%open]
====
image::create_column_chart.png[title="Продажи по категориям", align=center]
====
****

=== Создайте чарт — накопительная диаграмма с областями

****
. В созданном на предыдущем шаге чарте выберите тип визуализации *Накопительная диаграмма с областями*.
. Замените подкатегории товаров на дату заказа на оси *X*. Для этого из раздела *Измерения* перетащите поле *OrderDate* в секцию *X* и наведите его над полем *ProductSubcategory*, пока то не станет красным
. Добавьте на чарт категорию товаров. Для этого из раздела *Измерения* перетащите поле *ProductCategory* в секцию *Цвет*
. Отобразите чарт по неделям
.. Нажмите на иконку с календарем у поля *OrderDate* в секции *X*
.. В выпадающем списке типов группировок в разделе *Группировка* выберите *Неделя*
.. Нажмите *Применить*
. Сохраните чарт
.. Нажмите значок галочки рядом с кнопкой *Сохранить* в верхнем правом углу
.. Выберите *Сохранить как*
.. В открывшемся окне введите название нового чарта *Продажи по неделям* и нажмите кнопку *Сохранить*
****

****
.Продажи по неделям
[[create_area_chart_anchor]]
[%collapsible%open]
====
image::create_area_chart.png[title="Продажи по неделям", align=center]
====
****

=== Создайте чарт — карта

****
. В созданном на предыдущем шаге чарте выберите тип визуализации *Карта*
. Добавьте на карту координаты точек продаж. Для этого из раздела *Измерения* перетащите поле *ShopAddressCoord* в секцию *Геоточки*
. Измените размер точек относительно показателя количества заказов. Для этого из раздела *Показатели* перетащите поле *OrderCount* в секцию *Размер*
. Измените цвет точек относительно показателя продаж. Для этого из раздела *Показатели* перетащите поле *Sales* в секцию *Цвета*
. Добавьте в секцию *Тултипы* поля:
* ShopAddress
* ShopName
* Sales
* OrderCount
. Сохраните чарт
.. Нажмите значок галочки рядом с кнопкой *Сохранить* в верхнем правом углу
.. Выберите *Сохранить как*
.. В открывшемся окне введите название нового чарта *Карта продаж* и нажмите кнопку *Сохранить*
****

****
.Карта продаж
[[create_map_chart_anchor]]
[%collapsible%open]
====
image::create_map_chart.png[title="Карта продаж", align=center]
====
****

=== Создайте дашборд

****
. Перейдите на главную страницу link:https://datalens.yandex.ru/[*DataLens*, window=_blank]
. Нажмите кнопку *Создать дашборд*
. Введите название дашборда и нажмите кнопку *Создать*
****

=== Добавьте чарты на дашборд

****
. В правом верхнем углу нажмите кнопку *Добавить* и выберите *Чарт*
. В открывшемся окне нажмите кнопку *Выбрать*
. Выберите чарт *Карта продаж*. После этого автоматически заполнится поле *Название*
. Нажмите кнопку *Добавить*
. Аналогичным способом добавьте чарты *Продажи по подкатегориям* и *Продажи по неделям*
. Расположите чарты на дашборде в удобном для вас порядке
****

****
.Добавление чартов в дашбоард
[[add_charts_anchor]]
[%collapsible%open]
====
image::add_charts.png[title="Добавление чартов в дашбоард", align=center]
====
****

=== Добавьте селектор на дашборд

****
. Нажмите кнопку *Добавить* и выберите *Селектор*
. Добавьте селектор с календарем по датам заказа
.. Выберите созданный датасет
.. Выберите поле *OrderDate*
.. После этого автоматически заполнится поле *Название*. Нажмите галочку *Показывать* напротив заголовка селектора
.. Выберите тип *Календарь*
.. Включите опцию *Диапазон*
.. Нажмите кнопку *Добавить*
. Расположите селектор на дашборде в удобном для вас месте
. Сохраните дашборд. Для этого в правом верхнем углу нажмите кнопку *Сохранить*
****

****
.Добавление селекторов на дашбоард
[[add_selectors_anchor]]
[%collapsible%open]
====
image::add_selectors.png[title="Добавление селекторов на дашбоард", align=center]
====
****

== Обучающие курсы

****
Получить больше знаний о *DataLens* и научиться использовать их для решения конкретных практических задач можно с помощью обучающих онлайн-курсов.
****

=== Курсы и образовательные проекты

****
* link:https://cloud.yandex.ru/training/datalens[*Основы работы с DataLens*, window=_blank]
====
Базовый курс по основам работы с *DataLens* на Яндекс Практикуме. Подготовлен командой продукта, аналитиками *Яндекса* и внешними экспертами. Рекомендуем начинать погружение в *DataLens* именно с него!
====
* link:https://cloud.yandex.ru/datalens-festival[*Yandex DataLens Festival*, window=_blank]
====
Образовательный фестиваль с примерами и кейсами партнеров. В программе вас также ждет сравнение DataLens с лидерами рынка — *Power BI*, *Tableau* и *Superset*. Кроме того, вы изучите особенности построения корпоративной аналитики в облаке: хранилище, *ETL*, безопасность.
====
* link:https://cloud.yandex.ru/training/corpplatform[*Построение корпоративной платформы данных*, window=_blank]
====
Курс о том, как свести данные вашей компании в одно защищенное облачное хранилище и использовать его как источник для построения аналитических отчетов. После прохождения курса вы научитесь выбирать архитектуру проекта и подходящие для его реализации инструменты, настраивать нужные сервисы и интегрировать их между собой.
====
* link:https://datayoga.ru/datalens[*DataYoga: марафон по DataLens*, window=_blank]
====
*7* дней, *7* возможностей *DataLens*, *7* практических задач визуализации данных — в занимательном формате марафона от наших друзей *DataYoga*. Марафон также доступен в формате link:https://datayoga.ru/datalensbook[*книги*, window=_blank].
====
* link:https://netology.ru/programs/analyst-bifree#/[*Визуализация данных: бесплатный курс-симулятор в Нетологии*, window=_blank]
====
Бесплатный обзорный курс по самым популярным инструментам визуализации данных: *DataLens*, *Excel*, *Power BI* и *Tableau*.
====
* link:https://practicum.yandex.ru/ycloud/[*Инженер облачных сервисов*, window=_blank]
====
Базовый курс от *Yandex Cloud* для тех, кто хочет изучить не только инструменты визуализации и аналитики данных, но и фундаментальные основы облачной инфраструктуры.
====
* link:https://cloud.yandex.ru/docs/datalens/tutorials/[*Практические руководства*, window=_blank]
====
Руководства по работе с сервисом *Yandex DataLens*
====
* link:https://cloud.yandex.ru/docs/datalens/operations/[*Пошаговые инструкции*, window=_blank]
* link:https://cloud.yandex.ru/docs/datalens/security/[*Управление доступом*, window=_blank]
****

****
> Информацию о всех доступных и еще готовящихся курсах по *Yandex Cloud* вы найдете link:https://cloud.yandex.ru/training[*на этой странице*, window=_blank].
****

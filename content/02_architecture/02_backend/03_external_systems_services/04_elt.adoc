---
title: "ELT сервис - страховой модуль"
description: "ELT сервис - страховой модуль"
weight: 4
draft: false
---

:imgdir: /02_02_03_04_img/
:imagesoutdir: ./static/02_02_03_04_img/

include::content/init.adoc[]

= ELT сервис - страховой модуль

{empty} +

== Доступы ELT


=== Получение токена авторизации

****
[cols=".^60,.^40"]
|===
| Описание запроса для получения токена авторизации | link:https://elt-testapi.int.rolfcorp.ru/v1/auth/api/doc[window=_blank]
| Для получения токена авторизации необходимо отправить *POST* запрос по *URL*: | link:https://elt-testapi.int.rolfcorp.ru/v1/auth/api/token[window=_blank]
|===

{empty} +

В *Body* запроса передать в формате *form-data*:
====
* *client_secret*  - Уникальный секретный ключ приложения. Для теста указать значение: 
=====
`*a90db94ba1e3c1a88aea3d9e3e301d1a7473447fad57c0da9d96db569b3842bb25832555190a56fb40063ea5a8f10e0c41e6e671eee9e6f487b8cb274a61fa31*`
=====
* *client_id* - Уникальный идентификатор приложения. Для теста указать значение: `*38ac33e8b1cfbce3803058ed5a56ee47*`
* *grant_type* - Тип авторизации (в данном случае "password")
* *username* - Логин пользователя из *UW*
* *password* -  Пароль пользователя из *UW*
====

Учетные данные тестовой записи:
====
* Логин: `*testapielt*`
* Пароль: `*12345*`
====

В ответе вернется:
====
* *token_type* - Тип токена (всегда *Bearer*)
* *expires_in* - Время актуальности токена в секундах
* *access_token* - *OAuth*-токен с запрошенными правами или с правами, указанными при регистрации приложения
* *refresh_token* - Токен, который можно использовать для продления срока жизни соответствующего *OAuth*-токена
* *iframe_src* - cсылка для *iframe* на рабочее приложение *UW3 Multiproduct* с токеном
====
****

=== Банковские продукты по REST

****
* link:https://dev.api.elt-poisk.com/v1/banking/api/doc/uw[window=_blank] - Оформление и передача заявки (*Swagger*)
* link:architecture_cred_service_uw_22_06_2022.docx[Архитектура кредитного сервиса (22.06.2022 - DOCX), window=_blank]
****

=== Страховые продукты по REST

****
* link:https://elt-testapi.int.rolfcorp.ru/v1/insurance/api/doc[window=_blank] - Оформление продуктов (*Swagger*)
****

=== Справочники продуктов по REST

****
* link:https://elt-testapi.int.rolfcorp.ru/v1/dictionary[window=_blank] - Справочники (*Swagger*)
****

== Автоматизация продаж и сопровождение договоров страхования

****
Розничное подразделение *«РОЛЬФ»* завершило внедрение уникальной автоматизированной системы продаж и сопровождения договоров страхования, построенной на базе системы *UNICUSWEB*. Поставку и внедрение системы осуществила компания *ЗАО «ELT-ПОИСК»*.
****

****
Инфраструктура, обеспечивающая работу микросервисов *ELT* (компания-подрядчик), а следовательно и подавляющего числа интеграций модуля *F&I Flora*, представлена на link:#elt_1_anchor[рисунке 1, id=elt_1_anchor_link].
****

****
.Инфраструктура, обеспечивающая работу микросервисов *ELT*
[[elt_1_anchor]]
[%collapsible%open]
====
image::elt_1.jpg[title="Инфраструктура, обеспечивающая работу микросервисов *ELT*", align=center]
====
****

****
[cols=".^25,.^75"]
|===
| `[.blue]#*gitlab.elt-poisk.com*#` | Машина с гитлабом, расположенная в контуре *ELT*. С неё происходит заливка кода и поступает команда на сборку контейнеров из образов.
| `[.blue]#*registry.elt-poisk.com*#` | Машина с собранными образами в контуре *ELT*. Необходима для сборки контейнеров.
| `[.blue]#*gitlab-runner*#` a| Машина, расположенная в нашем *контуре РОЛЬФ*, на которой будет происходит сборка образов, с последующими тестами и заливкой готовых образов на машину *registry*.
====
* Наименование и адрес виртуалки: `*DLC-ELT-GITLAB 10.53.241.21*`
====
| `[.blue]#*docker-swarm*#` a| Машина, расположенная в нашем *контуре РОЛЬФ*, на которой собственно работают основные микросервисы: `*«Insurance»*` и `*«Dictionaries»*`.

`*«Insurance»*` используется для интеграции со страховыми компаниями: *Flora*, взаимодействует с микросервисом посредством *REST API*, сам же миекросервис обращается к *API* подрядчика уже по *SOAP*-протоколу. `*«Dictionaries»*` используется для справочников и интеграции с *DaData*.
====
* Наименование и адрес *«боевой»* виртуалки: `*DLC-ELT-DOCKER 10.53.241.20*`
* Наименование и адрес *«тестовой»* виртуалки: `*DLC-ELT-DOCKERP 10.53.241.44*`
====
Некоторое время DLC-ELT-DOCKERP по техническим причинам использовалась как боевая машина. Дополнительно уточню у подрядчика актуальное состояние дел. `*DLC-ELT-DOCKERP*` используется для *«боевых»* микросервисов, `*DLC-ELT-DOCKER*` – для тестовых.
| `[.blue]#*Postgres-PROD*#` и `[.blue]#*Postgres-TEST*#` a| Машины с базами данных, расположенные в нашем *контуре РОЛЬФ* для продуктивной и тестовой среды соответственно.
====
* Наименование и адрес *«боевой»* виртуалки: `*DLC-ELT-DB 10.53.241.18*`
* Наименование и адрес *«тестовой»* виртуалки: `*DLC-ELT-DBT 10.53.241.19*`
====
|===
****

////
== Кредитный сервис для дилеров

****
Кредитный сервис для дилеров увеличивает скорость выдачи кредита, что в конечном счете увеличивает доход компании.
****

.Сервис предоставляет:
****
====
* Расчет кредита, с доп. продуктами банка и/или дилера, сразу по всем банкам и программам
* Быстрый подбор лучшего предложения для клиента и для автосалона
* Онлайн табло кредитных заявок в работе
* Оперативный контроль скорости одобрения и эффективности работы сотрудников
* Быстрый и точный расчет маржинальности всей сделки (включая страхование)
* Заполнение анкеты (в электронном и бумажном виде) и отправка её в нужные банки 1 кликом
* Отчетность и статистика
* Приоритезация кредитных программ
* Полное администрирование модуля
====
****

****
.Пример
[[multibank_anchor]]
[%collapsible%close]
====
image::multibank.svg[title="Пример", align=center]
====
****

== Лизинговый модуль для дилеров

.Модуль предоставляет:
****
====
* Комплексный продукт для работы по лизинговым сделкам
* Облегчение процесса ведения лизинговых сделок
* Значительное ускорение процесса сделки за счет интеграции
* Вся информация по сделкам хранится в единой базе
* При использовании модулей Страхование/Кредитование дилер получает единую базу клиентов
* Автоматизация бизнес-процессов
====
****

****
.Пример
[[lizing_anchor]]
[%collapsible%close]
====
image::lizing.png[title="Пример", align=center]
====
****

== Архитектура кредитного сервиса UW

=== Диаграмма взаимодействия по интеграции Банка и UW

****
На ниже представленной схеме отображены методы получения кредитных заявок, статусов и т.п.
****

****
.Методы получения кредитных заявок
[[diagram_anchor]]
[%collapsible%open]
====
image::diagram.png[title="Методы получения кредитных заявок", align=center]
====
****

=== Жизненный цикл кредитной заявки

****
На ниже представленной схеме отображен жизненный цикл кредитной заявки
****

****
.Легенда
[[legenda_anchor]]
[%collapsible%open]
====
image::legenda.png[title="Легенда", align=center]
====
****

****
.Схема движения кредитной заявки
[[schema_anchor]]
[%collapsible%open]
====
image::schema.png[title="Схема движения кредитной заявки", align=center]
====
****
////

++++
<script lang="javascript">

    document.getElementById("elt_1_anchor_link").addEventListener('click', (event) => { document.getElementById("elt_1_anchor").open = true; });

</script>
++++
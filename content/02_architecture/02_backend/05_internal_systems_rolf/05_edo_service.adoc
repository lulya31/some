---
title: "Сервис ЭДО (подписание договоров)"
description: "Сервис ЭДО (подписание договоров)"
weight: 5
draft: false
---

:toc: auto
:toc-title: Содержание
:doctype: book
:icons: font
:figure-caption: Рисунок
:source-highlighter: pygments
:pygments-css: style
:pygments-style: monokai
:includedir: ./content/

:imgdir: /02_02_05_05_img/
:imagesdir: {imgdir}
ifeval::[{exp2pdf} == 1]
:imagesdir: static{imgdir}
:includedir: ../
endif::[]

:imagesoutdir: ./static/02_02_05_05_img/

= Сервис ЭДО (подписание договоров)

{empty} +

****
*Сервис ЭДО* предназначен для предоставления возможности подписывать договора (и обмениваться ими) электронным способом используя систему элекстронного документооборота - *ЭДО*. Интеграцию с *ЭДО* предполагается реализоать через *КШД*.
****

== Архитектурное решение

.Интеграцию предлагается реализовать через *КШД*.
****
. Использовать *1С: ДО* в качестве единой точки входа / выхода потоков, передаваемых через оператора *ЭДО*
. Использовать *1С: ДО* в качестве единого места хранения и обработки:
.. Входящих Электронных документов
.. Исходящих Электронных документов
.. Входящих Бумажных документов
.. Исходящих Бумажных документов
.. Внутренних Электронных документов
.. Внутренних Бумажных документов
. В качестве единого транспортного слоя использовать *КШД*
. Маршрутизацию потоков данных возложить на *КШД*
. Необходимые преобразования возложить на *КШД* и/или *1С: ДО*.
****

.Основная схема интеграции
[align=center]
image::base_diagram.jpg[Основная схема интеграции]

== WebAPI Сервис

Для интеграции с *ЭДО* разработан *WebAPI сервис*.
Интеграция построена через отдельно разработанный *.NET Core 3.1* сервис на *C#*

== Подписание и отправка через ЭДО

*Постановка US:* Пользователь может подписать и отправить через *ЭДО* документ, чтобы получить возможность отправки контрагенту через *ЭДО* подписанного документа.

== Функциональные требования

=== Алгоритм процесса

При включении настройки "Работа в ЭДО", необходимо предусмотреть отключение действующей интеграции АС РОЛЬФ - Контур.Диадок. +
При отключении функционала действующая интеграция АС РОЛЬФ - Контур.Диадок должна быть включена.

{empty} +

====
IMPORTANT: *ЕСЛИ* контрагент использует *ЭДО*, при установленном признаке статуса *«Зарегистрирован»*, *ТО* Пользователь нажимает кнопку *"Подписать и отправить УПД(И)"* *И* блокируется печать документа в бумажном виде
====

=== Материалы для разработки

Необходимо автоматически запустить интеграцию при наступлении события:

****
[red]#Пользователь в *АС РОЛЬФ* нажимает кнопку *«Подписать и отправить»*.#
****

Сервис предназначен для передачи информации для электронного сообщения в *Контур.Диадок* и его подписания.
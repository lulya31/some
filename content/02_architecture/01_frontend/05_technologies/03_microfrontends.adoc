---
title: "Микрофронтенды"
description: "Микрофронтенды"
weight: 3
draft: false
---

:toc: auto
:toc-title: Содержание
:toclevels: 5
:doctype: book
:icons: font
:figure-caption: Рисунок
:source-highlighter: pygments
:pygments-css: style
:pygments-style: monokai
:includedir: ./content/

:imgdir: /02_01_05_03_img/
:imagesdir: {imgdir}
ifeval::[{exp2pdf} == 1]
:imagesdir: static{imgdir}
:includedir: ../
endif::[]

:imagesoutdir: ./static/02_01_05_03_img/

= Микрофронтенды

{empty} +

== Предисловие

****
В течение многих лет разработка программного обеспечения была сосредоточена на *backend*-системах и процессах, которые ускоряют производство. Хотя общий подход к разделению задач в процессе разработки является положительным, те же идеи можно применить к непосредственной стороне создания ПО, внедрив структуру микрофронтенда. Это помогает устранить многие проблемы, связанные с монолитным подходом.
****

== Когда монолит не работает

****
Сегодняшние запросы потребителей требуют более гибкой системы разработки. Такая система помогает разбивать процессы и проекты на мелкие части, и вы можете быстрее создать работающий прототип и адаптироваться к новым потребностям, которые могут возникнуть после. Хотя монолитный подход — это работающий инструмент, его способность мгновенно реагировать на непредвиденные ситуации не так сильна по нескольким причинам:

{empty} +

. *Медленная и сложная разработка*
====
Когда монолит содержит множество сервисов, каждый из них должен быть подтвержден, протестирован и развернут. Это означает, что если у вас есть проблема с одной службой, вам нужно подождать, пока все остальные подключатся, прежде чем вы сможете перезапустить новую версию программы. То же самое происходит, если одна часть этой системы выходит из строя. Вместо того, чтобы быстро исправлять отдельные фрагменты, как в архитектуре микроинтерфейса, вы застреваете на одном месте в ожидании, в то время как весь проект рушится.
====

[start=2]
. *Громоздкая инфраструктура*
====
По определению, всё внутри монолитной архитектуры следует одной и той же инфраструктуре. Это похоже на удерживающее устройство, где при появлении утечки в одной области, под угрозой будет вся система. Это не только препятствует масштабированию, но также означает, что части и службы с различной функциональностью должны содержаться в единой инфраструктуре, что еще больше ограничивает возможности их использования.
====

[start=3]
. *Владение кодом усложняется*
====
Запутанная природа монолита делает систему трудной для понимания, особенно для новых членов команды. Они сталкиваются с огромным лабиринтом кодовой базы, потому что даже незначительные исправления вызывают изменения во всей системе.
====

Если вам нужен более гибкий способ обновления, исправления, развертывания и взаимодействия между различными отделами, обратите внимание на новую тенеденцию в разработке — *микрофронтенд*.
****

== Что такое микрофронтенд

****
*Микрофронтенд* — это новый способ создания программного обеспечения и WEB-приложений путем разделения различных компонентов или служб проекта на более мелкие части, которые можно объединить для получения конечного продукта (link:#what_is_micro_frontend_anchor[рисунок 1]).
****

****
.Микрофронтенд
[[what_is_micro_frontend_anchor]]
[%collapsible%open]
====
image::what_is_micro_frontend.png[title="Микрофронтенд", align=center]
====
****

****
Цель заключается в том, чтобы уменьшить между командами зависимости, которые замедляют процесс разработки, а также повысить способность реагировать на новые обновления, потребности или запросы рынка с помощью одностраничной архитектуры. Так появляется гибкость, недоступная при монолитной архитектуре, поскольку вам не нужно полагаться на весь пакет развертывания программного обеспечения, чтобы внести изменения, а только на определенные сегменты.

{empty} +

Не путайте микрофронтенды с микросервисами, это два разных понятия. Микросервисы занимают только одну часть или идею, в то время как микрофронтенд может охватывать целый элемент страницы, например строку меню или саму страницу. Между микрофронтендами и микросервисами нет прямой связи.
****

== Какие преимущества дает использование микрофронтенда?

****
Самым важным преимуществом архитектуры микрофронтенда является независимость составляющих модулей. Это делает дизайн проекта, программного обеспечения или WEB-сайта более гибким, способным удовлетворять постоянно меняющиеся требования рынка. Давайте узнаем, за счет чего:

{empty} +

====
* *Упрощенная модульная разработка* — разработка отдельного элемента намного проще, чем разработка целого монолита. Помимо размера, при разработке модуля у вас нет никаких ограничений, которые могут возникнуть при целостной разработке. У вас появляется больше свободы и творчества, а также более широкий выбор технологий.
* *Несколько языков* — микрофронтенды не требуют использования одного общесистемного языка. Элементы страницы и функции программного обеспечения могут быть созданы из совершенно разных фреймворков, пока они способны взаимодействовать и интегрироваться с остальными частями.
* *Более простое модульное тестирование* — оценка производительности отдельного фрагмента намного проще, быстрее и требует меньше ресурсов, поскольку остальная часть приложения остается нетронутой.
* *Более простое модульное развертывание* — здесь то же самое. Отдельными компонентами легче управлять и вводить в эксплуатацию с меньшим риском поломки.
* *Более быстрая разработка* — одновременная разработка, тестирование и развертывание нескольких частей проекта позволяет быстрее вывести на рынок работающий прототип, который можно тестировать и совершенствовать в реальном времени.
* *Повышенная отказоустойчивость системы* — фрагментарный характер приложения делает его устойчивым к разного рода сбоям. Если один модуль прекращает работу, это повлияет только на соответствующий ему функционал. Остальная часть приложения будет продолжать работу, и это потенциально может спасти вас от дорогостоящего простоя. Например, представьте, что вы управляете интернет-магазином. Внезапно модуль описания товара ломается. Несмотря на то, что качество обслуживания клиентов явно пострадает, посетители все равно смогут продолжить совершение покупок. Это связано с тем, что все остальные функции, например, оформление заказа, выполнение платежей, запросы к серверной части и т. д., будут работать. В этом заключается отличие от монолита, где одна ошибка может привести к краху всего приложения.
* *Повышенная масштабируемость* — вы можете быстро масштабировать определенные части приложения без необходимости обновлять всю систему каждый раз, когда вы выходите на новый рынок или подстраиваетесь под запросы потребителей. Если у вас внезапно увеличилось количество посетителей, нуждающихся в совершении платежей, вы можете обратиться только к стороне выставления счетов в приложении, не касаясь остальной части.
* *Простая адаптация* — у микрофронтенда в рукаве припрятан приятный чит-код. Если вам нужно привлечь новых экспертов, и в команде есть фронтенд-архитектор, вы можете сэкономить время на онбординг. Как? Вы освобождаете пришедших специалистов от изучения бизнес-логики и даете им сконцентрироваться только на тех частях, за которые они будут нести ответственность. Если приложение достаточно большое, это поможет вам быстрее перейти к разработке.
* *Более полное использование ресурсов* — микрофронтенд позволяет более эффективно распределять разработчиков внутри команды с разным опытом работы. Например, если вы разрабатываете монолитное решение с *React* в качестве *front-end* технологии, вам придется привлечь необходимое количество экспертов, независимо от того, есть ли они у вас в штате. В то время как с микрофронтендом, если вам не хватает некоторых из них, но есть эксперты в других технологиях (например, *Angular*), вы можете просто разделить свой *front-end* между этими двумя фреймворками. Так вы, с одной стороны, сэкономите уйму денег на найме, а с другой — оптимизируете использование ресурсов, сводя к минимуму время простоя *Angular*-разработчиков.
====
Как видите, у микрофронтенда есть много преимуществ, что делает его привлекательным вариантом. Теперь давайте посмотрим, какие у него есть недостатки.
****

== Недостатки использования микрофронтенда

****
Скорость и гибкость микрофронтенда, безусловно, помогают доводить проекты до запуска на рынок быстрее, чем при монолитном дизайне. Но есть некоторые моменты, которые необходимо учитывать при планировании ресурсов и сроков. Сюда могут входить:

{empty} +

====
* *Более сложная подготовка* — перед разработкой микрофронтенд решения команде необходимо определиться с его архитектурой, процессами взаимодействия с *backend*-частью, использованием компонентов и т. д. Это занимает значительно больше времени, чем подготовка к разработке монолита.
* *Больше ресурсов для поддержания работы приложения* - например, если во всей вашей системе есть повторно используемый компонент, и нужно его обновить, вам следует повторно развернуть каждый модуль в вашем решении. Если они написаны на разных языках, привести их все к единому стилю может быть довольно сложно.
* *Более сложное сквозное тестирование* — суть микрофронтендов в том, что у вас одновременно разрабатывается множество мелких частей. Это помогает в обновлении и внедрении инноваций, но также это означает объединение различных платформ, что усложняет систему. Это, в свою очередь, требует выравнивания нагрузки и масштабного сквозного тестирования, чтобы убедиться, что все отдельные блоки вписываются в окончательный проект.
* *Большое разнообразие стандартов* — большее количество фреймворков и языков, используемых в проекте, означает большее количество требований, которые нужно учитывать. Из-за ограниченного набора используемых технологий монолитная конструкция обычно имеет меньше требований, которые нужно держать в голове.
* *Актуальность документации* — документация должна всегдаи в любой момент времени оставаться актуальной. Этот момент очень важен, так как, если есть необходимость привлечь к проекту больше экспертов без вышеупомянутого чит-кода, разобраться во всей системе будет крайне сложно.
* *Добавленное макроуправление* — распределение работы между разными автономными командами создает угрозу их отклонения от курса. По этой причине, если вы выбираете архитектуру микроинтерфейса в качестве базы для своего приложения, такие вещи, как управление данными, прозрачное общение и система отчетности, являются обязательными для обеспечения бесперебойной работы всей команды.
====
****

== Когда нужно выбирать микрофронтенд для разработки приложения

****
Понимание различных требований проекта имеет решающее значение для его успеха. Сюда входит знание того, как правильно распределить человеческие активы, фреймворки, технологические стеки и другие ресурсы. Микрофронтенд дает множество преимуществ для разработки приложений, и его следует использовать, когда вы сталкиваетесь с такими ситуациями, как (link:#when_to_choose_micro_frontend_anchor[рисунок 2]):
****

****
.Условия выбора микрофронтенда
[[when_to_choose_micro_frontend_anchor]]
[%collapsible%open]
====
image::when_to_choose_micro_frontend.png[title="Условия выбора микрофронтенда", align=center]
====
****

****
====
* *Технологически диверсифицированная команда* — если вы ищете команду со знанием разных языков, технологических стеков или конкретных функций дизайна, вам следует внедрять архитектуру микрофронтенда. Суть заключается в том, чтобы получить максимальную отдачу от вашей команды, не привлекая новые ресурсы. Вместо того, чтобы писать все на одном языке, каждый участник проекта может писать на том языке, в котором он лучше всего разбирается, а затем интегрировать отдельные модули в дизайн всего приложения.
* *Международная поддержка* — часто члены гибридных гибридных команд и тех, которые работают удаленно, говорят на нескольких языках: английском, немецком, испанском и других. Вместо того, чтобы нанимать переводчика для общения с каждой командой, вы можете поручить им разработку конкретных проектов, на которых они смогут сосредоточиться.
* *Разница часовых поясов* — это одна из лучших причин для внедрения микрофронтендов, когда ваша команда разбросана географически. Разница часовых поясов невероятно усложняют сборку на основе монолитной архитектуры. Использование микрофронтенда позволяет командам, находящимся в разных часовых поясах, распределить между собой работу над конкретными частями. Таким образом, никому на восточном побережье США не нужно пытаться связаться с другим разработчиком в Пекине.
* *Ограниченные ресурсы* — если у вас небольшая команда со знанием различных технологических стеков, вы можете привлечь их для работы над теми частями, которые соответствуют их специализации и которые впоследствии могут быть добавлены в общий проект. Это снижает потребность в найме других разработчиков или специалистов, когда у вас нет финансов, времени или доступных ресурсов для покрытия расходов.
====
****

== Когда не стоит выбирать микрофронтенд для вашего приложения

****
Есть определенные ситуации, когда лучше применять монолитную архитектуру. Как и большинство вещей в разработке программного обеспечения, приложений и WEB-сайтов, адаптация к ситуации и проекту гораздо важнее, чем придерживание одной философии.

{empty} +

Если вы планируете разработку небольшого проекта, лучше остановиться на монолите. Суть заключается в том, чтобы вывести готовое приложение на рынок как можно быстрее, и когда весь проект можно сделать с помощью единой кодовой базы, тогда имеет смысл придерживаться монолитности. Попытка ввести тонну диверсификации не принесет пользы, потому что разделение частей на несколько единиц может замедлить разработку и тестирование.

{empty} +

Простота — еще один аргумент в пользу монолитной архитектуры. Когда проблемы, встречающиеся на проекте, относительно легко преодолеть, нет смысла применять сложную структуру микрофронтенда, потому что работу можно выполнить в рамках единой инфраструктуры.
****

== Лучшие практики внедрения микрофронтенда

****
Внедрение архитектуры микрофронтенда в проект не должно вас пугать. Главное — придерживаться основных правил, чтобы удостовериться, что все в вашей команде работают эффективно.

{empty} +

Перед началом проекта убедитесь, что у вас грамотно настроены все рабочие процессы. Это может включать в себя то, как каждая команда будет общаться друг с другом и кто за что отвечает. Продумывание организационной инфраструктуры так же важно, как и создание инфраструктуры проекта.

{empty} +

Старайтесь использовать автоматизацию везде, где это возможно, чтобы сэкономить время и улучшить общение. Это особенно полезно для команд, находящихся в разных регионах или говорящих на нескольких языках. Наличие программного обеспечения для управления проектами или телекоммуникационных систем улучшает степень интеграции каждого блока. Так команда будет в курсе всего на протяжении процесса разработки.

{empty} +

Не нужно чрезмерно использовать микрофронтенды. Попробуйте найти правильный баланс, предварительно выбрав блоки, на которые вы хотите разбить свой проект. Это поможет оптимизировать процессы и упростить разработку. Желание упорядочить все может захватить вас, но увлекаться не стоит.
****

== Лучшие практические примеры внедрения микрофронтенда

****
Есть несколько областей, в которых использование фреймворка микрофронтенда значительно улучшает разработку, обновление или внедрение новых систем.
****

****
.Лучшие варианты использования микрофронтенда
[[best_micro_frontend_use_cases_horizontal_2_anchor]]
[%collapsible%open]
====
image::best_micro_frontend_use_cases_horizontal_2.png[title="Лучшие варианты использования микрофронтенда", align=center]
====
****

****
Хорошим примером является повторное использование существующего приложения путем интеграции в другое приложение. Вместо того, чтобы вводить чужой код в монолитную архитектуру, вы можете создать решение на микрофронтенде, которое плавно интегрируется и снижает риск причинения любого потенциального вреда базовому коду.

{empty} +

Решение вопросов безопасности или защиты определенных интеллектуальных прав намного проще при разработке микрофронтенда, потому что с ним вы можете сегментировать части для конкретных команд. Если у вас есть частный код для банковского продукта и вы хотите, чтобы над этим разделом вашего приложения работали только определенные члены команды, вы можете разделить остальные задачи с другими командами. Это поможет вам предотвратить ситуацию, когда целая группа знает о коде, который является вашим конкурентным преимуществом.

{empty} +

В любое время, когда вы захотите добавить новые возможности или функции в устаревшую систему, вы можете использовать архитектуру микрофронтенда. Это довольно распространенная ситуация, потому что найти именно тех разработчиков, которые работали над проектом ранее, может быть сложно.
****
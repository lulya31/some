[plantuml%interactive,"clients",format=svg,align=center,width=100%]
.Clients - Клиенты
----
@startuml

'!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

!include static/includes/c4_context.puml
!include static/includes/c4_container.puml
!include static/includes/c4_component.puml

'skinparam svgLinkTarget _blank
skinparam backgroundcolor transparent
skinparam minClassWidth 200
'skinparam linetype polyline
skinparam linetype ortho

LAYOUT_TOP_DOWN()

System(clientid, "ClientID", "Клиенты (физлица и организации)", $link="/05_c4/01_core/07_clientid/")
'System(clients, "Clients", "Клиенты")
'Container(spa, "Single Page Application", "javascript and angular", "Provides all the internet banking functionality to customers via their web browser.")

Container_Boundary(clients, "Клиенты") {
    Container(address, "Адреса", "Address", "Адреса")
    Container(documents, "Документы", "Documents", "Документы")
    Container(phones, "Телефоны", "Phones", "Phones")
    Container(emails, "Электронные письма", "Emails", "Электронные письма")

    Container(persons, "Физическое лицо", "Persons", "Физическое лицо")
    Container(organizations, "Юридическое лицо", "Organizations", "Юридическое лицо")

    Container(companies, "Компания", "Companies", "Компания")
    Container(representatives, "Представитель", "Representatives", "Представитель")

    Container(client, "Клиент", "Client", "Клиент")
    Component(communications, "Communications -> Коммуникация", "Communications -> Коммуникация", "Communications -> Коммуникация", $link="/05_c4/01_core/04_communications/01_communication/")
    Component(requests, "Needs And Orders -> Обращение", "Needs And Orders -> Обращение", "Needs And Orders -> Обращение", $link="/05_c4/01_core/03_needs_and_orders/01_requests/")

    Container(signatures, "Подписант", "Signatures", "Подписант")

    Rel_U(address, persons, "")
    Rel_U(documents, persons, "")
    Rel_U(phones, persons, "")
    Rel_U(emails, persons, "")

    Rel_D(address, organizations, "")
    Rel_D(documents, organizations, "")
    Rel_D(phones, organizations, "")
    Rel_D(emails, organizations, "")

    Rel(persons, representatives, "")
    Rel(persons, client, "")
    Rel(organizations, client, "")
    Rel(organizations, companies, "")

    Rel(representatives, companies, "")

    Rel_D(client, communications, "")
    Rel_D(client, requests, "")
}

Rel_U(clients, clientid, "")

@enduml
----


Адреса -> Юридическое лицо (Organizations)
Документы -> Юридическое лицо (Organizations)
Телефоны -> Юридическое лицо (Organizations)
Emails -> Юридическое лицо (Organizations)

Адреса -> Физическое лицо (Persons)
Документы -> Физическое лицо (Persons)
Телефоны -> Физическое лицо (Persons)
Emails -> Физическое лицо (Persons)

Юридическое лицо (Organizations) -> Компания
Юридическое лицо (Organizations) -> Клиент
Юридическое лицо (Organizations) - RolfID -> Дилерский центр (Dealerships)

Физическое лицо (Persons) -> Представитель
Физическое лицо (Persons) -> Клиент
Физическое лицо (Persons) -> RolfID -> Сотрудник (Employees/пользователь (users))

Подписант -> RolfID -> Сотрудник (Employees/пользователь (users))

Представитель -> Компания 

Физическое лицо (Persons) -> Клиент

Клиент -> Communications -> Коммуникация
Клиент -> Needs_and_Orders -> Обращение (Requests)